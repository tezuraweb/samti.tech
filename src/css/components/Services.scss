.services {
    &__wrapper {
        position: relative;
    }

    &__header {
        display: flex;
        margin-bottom: 100px;
    }

    &__button {
        position: relative;
        font-family: 'Trispace';
        padding: 100px 40px;
        background-color: $blue3;
        transition: background-color .3s;
        user-select: none;

        &:hover {
            background-color: $blue2;
        }
    }

    &__poster {
        width: 100%;
        padding: 70px 93px;
        display: flex;
        min-height: 427px;
    }

    &__text {
        margin-right: 100px;
    }

    &__title {
        font-family: 'Trispace';
        font-size: 64px;
        line-height: 1;
        font-weight: 600;
        margin-bottom: 70px;
        max-width: 770px;
        position: relative;
        z-index: auto;

        &--text {
            position: relative;
            display: block;
            z-index: 1;
        }

        &::after {
            content: '';
            display: block;
            min-width: 100%;
            height: 25px;
            background-color: $violet2;
            position: absolute;
            bottom: -7px;
            z-index: 0;
            animation: expandUnderline 0.3s ease-out forwards;
        }
    }

    &__summary {
        padding: 40px 70px;
        position: relative;

        &::before,
        &::after {
            display: block;
            position: absolute;
            left: 0;
            font-weight: 600;
        }

        &::before {
            content: '<p>';
            top: 0;
        }

        &::after {
            content: '</p>';
            bottom: 0;
        }
    }

    &__icons {
        display: grid;
        justify-items: center;
        align-items: center;

        &--webdev {
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(2, 1fr);

            .Icon-root:nth-child(5) {
                grid-column: 3;
            }
        }

        &--seo {
            grid-template-columns: 200px 200px;
        }

        &--tg,
        &--smm {
            grid-template-columns: 120px 120px 120px;
        }

        &--design {
            grid-template-columns: repeat(5, 80px);
            grid-template-rows: repeat(2, 1fr);

            .Icon-root:nth-child(1) {
                grid-column: 1;
            }

            .Icon-root:nth-child(2) {
                grid-column: 3;
            }

            .Icon-root:nth-child(3) {
                grid-column: 5;
            }

            .Icon-root:nth-child(4) {
                grid-column: 2;
            }

            .Icon-root:nth-child(5) {
                grid-column: 4;
            }
        }

        &--analytics {
            grid-template-columns: 300px;
        }

        .Icon-root {
            opacity: 0;
            animation: slideDown 0.5s ease-out forwards;
        }

        .Icon-root:nth-child(1) {
            animation-delay: 0s;
        }

        .Icon-root:nth-child(2) {
            animation-delay: 0.1s;
        }

        .Icon-root:nth-child(3) {
            animation-delay: 0.2s;
        }

        .Icon-root:nth-child(4) {
            animation-delay: 0.3s;
        }

        .Icon-root:nth-child(5) {
            animation-delay: 0.4s;
        }

        .Icon-root:nth-child(6) {
            animation-delay: 0.5s;
        }
    }

    &__footer {
        position: relative;
    }

    &__item {
        font-family: 'Trispace';
        font-size: 40px;
        font-weight: 100;
        padding: 0 0 15px 260px;
        margin-bottom: 40px;
        position: relative;
        max-width: 1000px;
        color: $grey;
        transition: font-weight .3s;
        cursor: pointer;

        &.active {
            font-weight: 600;
        }

        &::before {
            content: '// ';
        }

        &::after {
            content: '';
            display: block;
            position: absolute;
            left: 0;
            bottom: 0;
            width: 100%;
            height: 1px;
            background-color: $grey;
        }
    }

    &__lead {
        position: sticky;
        width: 300px;
        height: 350px;
        display: block;
        bottom: 0;
        margin-left: auto;
        overflow: hidden;

        &--button {
            position: absolute;
            bottom: -130px;
            right: -40px;
            transition: transform .3s;
            background: transparent;
            border: none;
            cursor: pointer;
            transform: rotate(-21deg);

            &.sticky-bottom {
                transform: translate(-70px, -130px);
            }
        }

        &:hover .services__lead--button {
            transform: translate(-30px, -30px) scale(1.1) rotate(-21deg);

            &.sticky-bottom {
                transform: scale(0.95) translate(-70px, -130px);
            }
        }
    }

    @media (max-width: $desktop-breakpoint) {
        &__poster {
            min-height: 437px;
            padding: 70px 90px;
        }

        &__title,
        &__button {
            font-size: 50px;
        }

        &__item {
            padding-left: 235px;
        }
    }

    @media (max-width: $laptop-breakpoint-1) {
        &__header {
            align-items: flex-start;
            margin-bottom: 25px;
        }

        &__button {
            padding: 0;
            min-width: 120px;
            height: 120px;

            &--text {
                display: none;
            }

            &::after {
                content: "";
                position: absolute;
                top: 50%;
                left: 50%;
                display: block;
                width: 14px;
                height: 14px;
                border-top: 2px solid #cfcfcf;
                border-right: 2px solid #cfcfcf;
                transition: border .3s;
            }

            &:hover::after {
                border-width: 4px;
            }
        }

        &__prev::after {
            transform: translate(-5px, -8px) rotate(-135deg);
        }

        &__next::after {
            transform: translate(-11px, -8px) rotate(45deg);
        }

        &__poster {
            flex-direction: column;
            padding: 40px 110px;
            min-height: 423px;
        }

        &__text {
            margin-right: 0;
            margin-bottom: 35px;
        }

        &__title {
            width: fit-content;
            margin: 0 auto 35px;
        }

        &__icons {
            display: flex;
            align-items: center;
            justify-content: center;

            .Icon-root {
                margin: 0 20px;
                height: 70px;
            }
        }

        &__item {
            font-size: 30px;
            padding: 0 0 10px 230px;
            margin-bottom: 23px;
            max-width: 800px;
        }

        &__lead {
            width: 220px;
            height: 260px;

            .Icon-root {
                width: 180px;
                height: auto;
            }
        }
    }

    @media (max-width: $laptop-breakpoint-2) {
        &__poster {
            padding: 40px;
            min-height: 447px;
        }

        &__button {
            min-width: 80px;
            height: 80px;
        }

        &__item {
            padding: 0 0 10px 120px;
            max-width: 600px;
        }
    }

    @media (max-width: $tablet-breakpoint-1) {
        &__header {
            position: relative;
            margin-bottom: 0;
        }

        &__button {
            position: absolute;
            top: 170px;
            min-width: 40px;
            height: 40px;
        }

        &__prev {
            left: 50px;
        }

        &__next {
            right: 50px;
        }

        &__poster {
            padding: 40px 50px;
            min-height: auto;
        }

        &__title {
            font-size: 22px;
            font-weight: 400;
            margin: 0 auto 60px;

            &--text {
                display: inline-block;
            }

            &::before {
                content: '// ';
            }

            &::after {
                height: 4px;
            }
        }

        &__summary {
            padding: 30px 35px;
            min-height: 113px;
        }

        &__text {
            margin-bottom: 0;
        }

        &__icons {
            display: grid;
            order: -1;
            grid-gap: 10px;
            margin-bottom: 30px;
            min-height: 100px;

            .Icon-root {
                margin: 0 20px;
                height: 40px;
            }

            &--webdev {
                grid-template-columns: 170px 70px 170px;
            }
        }

        &__item {
            margin: 0 auto 15px;
            max-width: 290px;
            font-size: 16px;
            padding: 0 0 7px 50px;
        }

        &__lead {
            display: none;
        }
    }

    @media (max-width: $mobile-breakpoint) {
        &__button {
            top: 120px;
            background-color: transparent;

            &:hover {
                background-color: transparent;
            }
        }

        &__prev {
            display: none;
        }

        &__next {
            right: 0;
        }

        &__poster {
            padding: 0 0 40px;
        }

        &__title {
            margin: 0 auto 30px;
            width: 100%;
            padding-left: 50px;

            &::after {
                left: 0;
            }
        }

        &__summary {
            padding: 30px 85px;

            &::before,
            &::after {
                left: 50px;
            }
        }

        &__text {
            margin-bottom: 0;
        }

        &__icons {
            grid-template-columns: 1fr 1fr;

            &--webdev {
                grid-template-columns: 100px 50px 100px;
            }

            &--seo {
                grid-template-columns: repeat(2, 100px);
            }

            &--smm {
                grid-template-columns: repeat(3, 80px);
            }

            &--design {
                grid-template-columns: repeat(5, 50px);
            }

            &--tg {
                grid-template-columns: repeat(3, 80px);
            }
            
            &--analytics {
                grid-template-columns: 1fr;
            }

            .Icon-root {
                margin: 0;
                max-width: 100px;
            }
        }

        &__item {
            max-width: none;

            &::after {
                width: 90%;
            }
        }
    }
}

@keyframes slideDown {
    0% {
        transform: translateY(-20px);
        opacity: 0;
    }

    100% {
        transform: translateY(0);
        opacity: 1;
    }
}

@keyframes expandUnderline {
    0% {
        min-width: 0;
    }

    100% {
        min-width: 100%;
    }
}

@media (max-width: $mobile-breakpoint) {
    @keyframes expandUnderline {
        0% {
            min-width: 0;
        }

        100% {
            min-width: 90%;
        }
    }
}